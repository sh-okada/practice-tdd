# TODO

## ログイン
[https://github.com/sh-okada/practice-tdd/issues/1](https://github.com/sh-okada/practice-tdd/issues/1)

```
要件
メールアドレスとパスワードでログインできる。
パスワードは入力内容をマスクし、任意で表示できるようにする。

ログインに成功した場合は / に遷移し、ログインに失敗した場合はエラーメッセージを表示する。

また、すでにログインしている場合は / にリダイレクトさせること。
```

### 要求分割
- パスワードはマスク状態を切り替えできる
- ログインに成功すると / に遷移する
- ログインに失敗するとエラーメッセージを表示する
- すでにログインしているときは / にリダイレクトする
- ログインはAPIで行う？
- ログインしているかの判定もAPIで行う？


### TODOリスト
- AuthProvider
  - [x] API実行中はローディングを表示する
    - [x] API実行中の場合
      - [x] ローディングが表示されること
    - [x] API実行完了の場合
      - [x] ローディングが表示されないこと
  - [x] ユーザー情報取得APIの結果でログイン状態を判定する
    - [x] ステータスコードが200の場合
      - [x] isAuthedがtrueであること
    - [x] ステータスコードが401の場合
      - [x] isAuthedがfalseであること
    - [x] それ以外の場合
      - [x] エラーが表示されること

- LoginForm
  - [ ] onBlurでバリデーションを実行する
    - [ ] メールアドレスを入力していない場合
      - [ ] エラーメッセージが表示されること
    - [ ] メールアドレスを入力している場合
      - [ ] エラーメッセージが表示されないこと
    - [ ] パスワードを入力していない場合
      - [ ] エラーメッセージが表示されること
    - [ ] パスワードを入力している場合
      - [ ] エラーメッセージが表示されないこと
  - [ ] ログインボタンでonSubmitを実行する
      - [ ] 入力した値を引数にしてonSubmitが実行されること
  - [ ] onSubmitの多重実行を防止する
      - [ ] onSubmit実行中の場合
        - [ ] ログインボタンが非活性であること
      - [ ] onSubmit実行完了の場合
        - [ ] ログインボタンが活性であること
  - [ ] エラーステータスでエラーメッセージを表示する
    - [ ] エラーの場合
      - [ ] エラーメッセージが表示されること
    - [ ] エラーでない場合
      - [ ] エラーメッセージが表示されないこと

- LoginPage
  - [ ] ログインしていない場合のみアクセスできる
    - [ ] ログインしている場合
      - [ ] / にリダイレクトされること
    - [ ] ログインしていない場合
      - [ ] / にリダイレクトされないこと
  - [ ] ログインAPIでログインする
    - [ ] ステータスコードが200の場合
      - [ ] / リダイレクトされること
    - [ ] ステータスコードが400の場合
      - [ ] エラーメッセージが表示されること
    - [ ] それ以外の場合
      - [ ] エラーが表示されること