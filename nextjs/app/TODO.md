# TODO

## ログイン
[https://github.com/sh-okada/practice-tdd/issues/1](https://github.com/sh-okada/practice-tdd/issues/1)

```
要件
メールアドレスとパスワードでログインできる。
パスワードは入力内容をマスクし、任意で表示できるようにする。

ログインに成功した場合は / に遷移し、ログインに失敗した場合はエラーメッセージを表示する。

また、すでにログインしている場合は / にリダイレクトさせること。
```

### 要求分割
- パスワードはマスク状態を切り替えできる
- ログインに成功すると / に遷移する
- ログインに失敗するとエラーメッセージを表示する
- すでにログインしているときは / にリダイレクトする
- ログインはAPIで行う？
- ログインしているかの判定もAPIで行う？


### TODOリスト
- AuthProvider
  - [x] API実行中はローディングを表示する
    - [x] API実行中の場合
      - [x] ローディングが表示されること
    - [x] API実行完了の場合
      - [x] ローディングが表示されないこと
  - [x] ユーザー情報取得APIの結果でログイン状態を判定する
    - [x] ステータスコードが200の場合
      - [x] isAuthedがtrueであること
    - [x] ステータスコードが401の場合
      - [x] isAuthedがfalseであること
    - [x] それ以外の場合
      - [x] エラーが表示されること

- LoginForm
  - [ ] onBlurでバリデーションを実行する
    - [x] メールアドレスを入力していない場合
      - [x] エラーメッセージが表示されること
    - [x] メールアドレスを入力している場合
      - [x] エラーメッセージが表示されないこと
    - [x] パスワードを入力していない場合
      - [x] エラーメッセージが表示されること
    - [x] パスワードを入力している場合
      - [x] エラーメッセージが表示されないこと
  - [x] ログインボタンでonSubmitを実行する
      - [x] 入力した値を引数にしてonSubmitが実行されること
  - [x] onSubmitの多重実行を防止する
      - [x] onSubmit実行中の場合
        - [x] ログインボタンが非活性であること
      - [x] onSubmit実行完了の場合
        - [x] ログインボタンが活性であること
  - [x] エラーステータスでエラーメッセージを表示する
    - [x] エラーの場合
      - [x] エラーメッセージが表示されること
    - [x] エラーでない場合
      - [x] エラーメッセージが表示されないこと

- LoginPage
  - [ ] ログインしていない場合のみアクセスできる
    - [ ] ログインしている場合
      - [ ] / にリダイレクトされること
    - [ ] ログインしていない場合
      - [ ] / にリダイレクトされないこと
  - [ ] ログインAPIでログインする
    - [ ] ステータスコードが200の場合
      - [ ] / リダイレクトされること
    - [ ] ステータスコードが400の場合
      - [ ] エラーメッセージが表示されること
    - [ ] それ以外の場合
      - [ ] エラーが表示されること